{"remainingRequest":"/Users/kations/Projekte/CMS/contist-ui/node_modules/docz-core/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"/Users/kations/Projekte/CMS/contist-ui/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[[\"/Users/kations/Projekte/CMS/contist-ui/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/kations/Projekte/CMS/contist-ui/node_modules/react-hot-loader/babel.js\"],\"cacheDirectory\":true,\"babelrc\":false}!/Users/kations/Projekte/CMS/contist-ui/src/lib/components/effects/Tilt.js","dependencies":[{"path":"/Users/kations/Projekte/CMS/contist-ui/src/lib/components/effects/Tilt.js","mtime":1538391378262},{"path":"/Users/kations/Projekte/CMS/contist-ui/node_modules/docz-core/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/kations/Projekte/CMS/contist-ui/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _jsxFileName = \"/Users/kations/Projekte/CMS/contist-ui/src/lib/components/effects/Tilt.js\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components';\nimport { propsToStyle, styleProps } from '../../utils';\nvar TiltLayer = styled.div(_templateObject(), function (props) {\n  return propsToStyle(props);\n});\n\nvar Tilt =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Tilt, _Component);\n\n  function Tilt(props) {\n    var _this;\n\n    _classCallCheck(this, Tilt);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Tilt).call(this, props));\n    _this.state = {\n      style: {}\n    };\n    var defaultSettings = {\n      reverse: false,\n      max: 35,\n      perspective: 1000,\n      easing: 'cubic-bezier(.03,.98,.52,.99)',\n      scale: '1.1',\n      speed: '1000',\n      transition: true,\n      axis: null,\n      reset: true\n    };\n    _this.width = null;\n    _this.height = null;\n    _this.left = null;\n    _this.top = null;\n    _this.transitionTimeout = null;\n    _this.updateCall = null;\n    _this.element = null;\n    _this.settings = Object.assign({}, defaultSettings, _this.props.options);\n    _this.reverse = _this.settings.reverse ? -1 : 1; // Events\n\n    _this.onMouseEnter = _this.onMouseEnter.bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.props.onMouseEnter);\n    _this.onMouseMove = _this.onMouseMove.bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.props.onMouseMove);\n    _this.onMouseLeave = _this.onMouseLeave.bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.props.onMouseLeave);\n    return _this;\n  }\n\n  _createClass(Tilt, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      //this.element = findDOMNode(this);\n      this.element = ReactDOM.findDOMNode(this);\n      setTimeout(function () {\n        if (_this2.element.parentElement.querySelector(':hover') === _this2.element) {\n          _this2.onMouseEnter();\n        }\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.transitionTimeout);\n      cancelAnimationFrame(this.updateCall);\n    }\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter() {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n      var e = arguments.length > 1 ? arguments[1] : undefined;\n      this.updateElementPosition();\n      this.setState(Object.assign({}, this.state, {\n        style: _objectSpread({}, this.state.style, {\n          willChange: 'transform'\n        })\n      }));\n      this.setTransition();\n      return cb(e);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this3 = this;\n\n      window.requestAnimationFrame(function () {\n        _this3.setState(Object.assign({}, _this3.state, {\n          style: _objectSpread({}, _this3.state.style, {\n            transform: 'perspective(' + _this3.settings.perspective + 'px) ' + 'rotateX(0deg) ' + 'rotateY(0deg) ' + 'scale3d(1, 1, 1)'\n          })\n        }));\n      });\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove() {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n      var e = arguments.length > 1 ? arguments[1] : undefined;\n      e.persist();\n\n      if (this.updateCall !== null) {\n        window.cancelAnimationFrame(this.updateCall);\n      }\n\n      this.event = e;\n      this.updateCall = requestAnimationFrame(this.update.bind(this, e));\n      return cb(e);\n    }\n  }, {\n    key: \"setTransition\",\n    value: function setTransition() {\n      var _this4 = this;\n\n      clearTimeout(this.transitionTimeout);\n      this.setState(Object.assign({}, this.state, {\n        style: _objectSpread({}, this.state.style, {\n          transition: this.settings.speed + 'ms ' + this.settings.easing\n        })\n      }));\n      this.transitionTimeout = setTimeout(function () {\n        _this4.setState(Object.assign({}, _this4.state, {\n          style: _objectSpread({}, _this4.state.style, {\n            transition: ''\n          })\n        }));\n      }, this.settings.speed);\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave() {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n      var e = arguments.length > 1 ? arguments[1] : undefined;\n      this.setTransition();\n\n      if (this.settings.reset) {\n        this.reset();\n      }\n\n      return cb(e);\n    }\n  }, {\n    key: \"getValues\",\n    value: function getValues(e) {\n      var x = (e.nativeEvent.clientX - this.left) / this.width;\n      var y = (e.nativeEvent.clientY - this.top) / this.height;\n\n      var _x = Math.min(Math.max(x, 0), 1);\n\n      var _y = Math.min(Math.max(y, 0), 1);\n\n      var tiltX = (this.reverse * (this.settings.max / 2 - _x * this.settings.max)).toFixed(2);\n\n      var tiltY = (this.reverse * (_y * this.settings.max - this.settings.max / 2)).toFixed(2);\n      var percentageX = _x * 100;\n      var percentageY = _y * 100;\n      return {\n        tiltX: tiltX,\n        tiltY: tiltY,\n        percentageX: percentageX,\n        percentageY: percentageY\n      };\n    }\n  }, {\n    key: \"updateElementPosition\",\n    value: function updateElementPosition() {\n      var rect = this.element.getBoundingClientRect();\n      this.width = this.element.offsetWidth;\n      this.height = this.element.offsetHeight;\n      this.left = rect.left;\n      this.top = rect.top;\n    }\n  }, {\n    key: \"update\",\n    value: function update(e) {\n      var values = this.getValues(e);\n      this.setState(Object.assign({}, this.state, {\n        style: _objectSpread({}, this.state.style, {\n          transform: 'perspective(' + this.settings.perspective + 'px) ' + 'rotateX(' + (this.settings.axis === 'x' ? 0 : values.tiltY) + 'deg) ' + 'rotateY(' + (this.settings.axis === 'y' ? 0 : values.tiltX) + 'deg) ' + 'scale3d(' + this.settings.scale + ', ' + this.settings.scale + ', ' + this.settings.scale + ')'\n        })\n      }));\n      this.updateCall = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var style = Object.assign({}, this.props.style, this.state.style);\n      return React.createElement(TiltLayer, Object.assign({}, this.props, {\n        style: style,\n        className: this.props.className,\n        onMouseEnter: this.onMouseEnter,\n        onMouseMove: this.onMouseMove,\n        onMouseLeave: this.onMouseLeave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), this.props.children);\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return Tilt;\n}(Component);\n\nTilt.propTypes = _objectSpread({}, styleProps);\nvar _default = Tilt;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(TiltLayer, \"TiltLayer\", \"/Users/kations/Projekte/CMS/contist-ui/src/lib/components/effects/Tilt.js\");\n  reactHotLoader.register(Tilt, \"Tilt\", \"/Users/kations/Projekte/CMS/contist-ui/src/lib/components/effects/Tilt.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/kations/Projekte/CMS/contist-ui/src/lib/components/effects/Tilt.js\");\n  leaveModule(module);\n})();\n\n;\nTilt.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"onMouseEnter\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"cb\",\n      \"type\": null\n    }, {\n      \"name\": \"e\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"reset\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onMouseMove\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"cb\",\n      \"type\": null\n    }, {\n      \"name\": \"e\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"setTransition\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onMouseLeave\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"cb\",\n      \"type\": null\n    }, {\n      \"name\": \"e\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"getValues\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"e\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"updateElementPosition\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"update\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"e\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"Tilt\",\n  \"composes\": [\"../../utils\"]\n};",{"version":3,"sources":["/Users/kations/Projekte/CMS/contist-ui/src/lib/components/effects/Tilt.js"],"names":["React","Component","ReactDOM","styled","propsToStyle","styleProps","TiltLayer","div","props","Tilt","state","style","defaultSettings","reverse","max","perspective","easing","scale","speed","transition","axis","reset","width","height","left","top","transitionTimeout","updateCall","element","settings","Object","assign","options","onMouseEnter","bind","onMouseMove","onMouseLeave","findDOMNode","setTimeout","parentElement","querySelector","clearTimeout","cancelAnimationFrame","cb","e","updateElementPosition","setState","willChange","setTransition","window","requestAnimationFrame","transform","persist","event","update","x","nativeEvent","clientX","y","clientY","_x","Math","min","_y","tiltX","toFixed","tiltY","percentageX","percentageY","rect","getBoundingClientRect","offsetWidth","offsetHeight","values","getValues","className","children","propTypes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components';\n\nimport { propsToStyle, styleProps } from '../../utils';\n\nconst TiltLayer = styled.div`\n  ${props => propsToStyle(props)};\n`;\n\nclass Tilt extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      style: {},\n    };\n\n    const defaultSettings = {\n      reverse: false,\n      max: 35,\n      perspective: 1000,\n      easing: 'cubic-bezier(.03,.98,.52,.99)',\n      scale: '1.1',\n      speed: '1000',\n      transition: true,\n      axis: null,\n      reset: true,\n    };\n\n    this.width = null;\n    this.height = null;\n    this.left = null;\n    this.top = null;\n    this.transitionTimeout = null;\n    this.updateCall = null;\n    this.element = null;\n    this.settings = Object.assign({}, defaultSettings, this.props.options);\n    this.reverse = this.settings.reverse ? -1 : 1;\n\n    // Events\n    this.onMouseEnter = this.onMouseEnter.bind(this, this.props.onMouseEnter);\n    this.onMouseMove = this.onMouseMove.bind(this, this.props.onMouseMove);\n    this.onMouseLeave = this.onMouseLeave.bind(this, this.props.onMouseLeave);\n  }\n  componentDidMount() {\n    //this.element = findDOMNode(this);\n    this.element = ReactDOM.findDOMNode(this);\n    setTimeout(() => {\n      if (this.element.parentElement.querySelector(':hover') === this.element) {\n        this.onMouseEnter();\n      }\n    }, 0);\n  }\n  componentWillUnmount() {\n    clearTimeout(this.transitionTimeout);\n    cancelAnimationFrame(this.updateCall);\n  }\n  onMouseEnter(cb = () => {}, e) {\n    this.updateElementPosition();\n\n    this.setState(\n      Object.assign({}, this.state, {\n        style: {\n          ...this.state.style,\n          willChange: 'transform',\n        },\n      })\n    );\n\n    this.setTransition();\n\n    return cb(e);\n  }\n  reset() {\n    window.requestAnimationFrame(() => {\n      this.setState(\n        Object.assign({}, this.state, {\n          style: {\n            ...this.state.style,\n            transform:\n              'perspective(' +\n              this.settings.perspective +\n              'px) ' +\n              'rotateX(0deg) ' +\n              'rotateY(0deg) ' +\n              'scale3d(1, 1, 1)',\n          },\n        })\n      );\n    });\n  }\n  onMouseMove(cb = () => {}, e) {\n    e.persist();\n\n    if (this.updateCall !== null) {\n      window.cancelAnimationFrame(this.updateCall);\n    }\n\n    this.event = e;\n    this.updateCall = requestAnimationFrame(this.update.bind(this, e));\n\n    return cb(e);\n  }\n  setTransition() {\n    clearTimeout(this.transitionTimeout);\n\n    this.setState(\n      Object.assign({}, this.state, {\n        style: {\n          ...this.state.style,\n          transition: this.settings.speed + 'ms ' + this.settings.easing,\n        },\n      })\n    );\n\n    this.transitionTimeout = setTimeout(() => {\n      this.setState(\n        Object.assign({}, this.state, {\n          style: {\n            ...this.state.style,\n            transition: '',\n          },\n        })\n      );\n    }, this.settings.speed);\n  }\n  onMouseLeave(cb = () => {}, e) {\n    this.setTransition();\n\n    if (this.settings.reset) {\n      this.reset();\n    }\n    return cb(e);\n  }\n  getValues(e) {\n    const x = (e.nativeEvent.clientX - this.left) / this.width;\n    const y = (e.nativeEvent.clientY - this.top) / this.height;\n    const _x = Math.min(Math.max(x, 0), 1);\n    const _y = Math.min(Math.max(y, 0), 1);\n\n    const tiltX = (\n      this.reverse *\n      (this.settings.max / 2 - _x * this.settings.max)\n    ).toFixed(2);\n    const tiltY = (\n      this.reverse *\n      (_y * this.settings.max - this.settings.max / 2)\n    ).toFixed(2);\n\n    const percentageX = _x * 100;\n    const percentageY = _y * 100;\n\n    return {\n      tiltX,\n      tiltY,\n      percentageX,\n      percentageY,\n    };\n  }\n\n  updateElementPosition() {\n    const rect = this.element.getBoundingClientRect();\n    this.width = this.element.offsetWidth;\n    this.height = this.element.offsetHeight;\n    this.left = rect.left;\n    this.top = rect.top;\n  }\n\n  update(e) {\n    let values = this.getValues(e);\n\n    this.setState(\n      Object.assign({}, this.state, {\n        style: {\n          ...this.state.style,\n          transform:\n            'perspective(' +\n            this.settings.perspective +\n            'px) ' +\n            'rotateX(' +\n            (this.settings.axis === 'x' ? 0 : values.tiltY) +\n            'deg) ' +\n            'rotateY(' +\n            (this.settings.axis === 'y' ? 0 : values.tiltX) +\n            'deg) ' +\n            'scale3d(' +\n            this.settings.scale +\n            ', ' +\n            this.settings.scale +\n            ', ' +\n            this.settings.scale +\n            ')',\n        },\n      })\n    );\n\n    this.updateCall = null;\n  }\n  render() {\n    const style = Object.assign({}, this.props.style, this.state.style);\n    return (\n      <TiltLayer\n        {...this.props}\n        style={style}\n        className={this.props.className}\n        onMouseEnter={this.onMouseEnter}\n        onMouseMove={this.onMouseMove}\n        onMouseLeave={this.onMouseLeave}\n      >\n        {this.props.children}\n      </TiltLayer>\n    );\n  }\n}\n\nTilt.propTypes = {\n  ...styleProps,\n};\n\nexport default Tilt;\n"]}]}